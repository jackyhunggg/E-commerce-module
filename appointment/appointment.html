<style>
  /* Hide the calendar container by default */
  #calendar-container {
    display: none;
  }
  
  /* Show the calendar container when it has the 'active' class */
  #calendar-container.active {
    display: block;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.8);
    z-index: 9999;
  }
  
  /* Style the cross button */
  #calendar-container .close-button {
    position: absolute;
    top: 40px;
    right: 20px;
    width: 30px;
    height: 30px;
    background-color: #fff;
    border: none;
    font-size: 24px;
    color: #000;
    cursor: pointer;
    z-index: 99999;
  }
  
  /* Style the Google calendar iframe */
  #calendar-container iframe {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 90%;
    height: 90%;
    border: none;
  background-color: #fff;
  }
  
  /* Style the close button */
  #close-button {
    position: fixed;
    top: -80px;
    right: -80px;
    font-size: 48px;
    cursor: pointer;
  }
  
  #my-div {
    position: fixed;
    top: 0;
    right: 0;
    max-width: 80%
    padding: 20px;
    background-color: #fff;
    z-index: 9999;
  }
</style>


  <div id="calendar-container" style="display:none;">
    <iframe src="https://calendar.google.com/calendar/appointments/schedules/AcZssZ2xl2UUimR2mI00nSo5FigiT45E73gjPwqK6eoiMBOGw9ZKQ7hfCzeHwhjqMzSnICo_XHIJwzEG?gv=true" style="border: 0" width="100%" height="600" frameborder="0"></iframe>
    <div id="my-div">預約完成後請按右上角的 X 完成購票，卡稻農感謝您。</div>
  </div>
  
  
<script>
  // Get references to the button and calendar container
  const calendarContainer = document.getElementById('calendar-container');
  const closeButton = document.createElement('button');
  const myDiv = document.getElementById('my-div');
  
  
  jQuery(document).ready(function($) {
  
    $('#tribe-tickets__tickets-submit').click(function(event) {
      event.preventDefault();      
      // Add the close button
      closeButton.innerHTML = 'X';
      closeButton.classList.add('close-button');
      closeButton.addEventListener('click', function() {
        calendarContainer.classList.remove('active');
        calendarContainer.style.display = 'none';
        myDiv.style.display = 'none';
      });
      // Add the close button to the calendar container
      calendarContainer.appendChild(closeButton);
      // Show the calendar and div
      calendarContainer.classList.add('active');
      calendarContainer.style.display = 'block';
      myDiv.style.display = 'block';
    })
  })
  </script>